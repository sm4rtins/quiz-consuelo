<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz de Personnalit√© - 30 Questions</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        .quiz-option:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .animated-bg {
            background: linear-gradient(-45deg, #3B82F6, #1E40AF, #2563EB, #1D4ED8);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
    </style>
</head>
<body class="animated-bg min-h-screen">
    <!-- Header fixo com logo -->
    <div class="bg-white shadow-sm border-b border-gray-200">
        <div class="max-w-4xl mx-auto px-4 py-3">
            <div class="flex justify-center">
                <img src="images/logo-crauen.svg" alt="Crauen Logo" class="h-12">
            </div>
        </div>
    </div>
    
    <!-- Conte√∫do principal -->
    <div class="max-w-4xl mx-auto py-8 px-4">
        <div id="quiz-content"></div>
    </div>

    <script>
class PersonalityQuiz {
    constructor() {
        // üéØ TODAS AS 30 QUEST√ïES - PROBLEMA RESOLVIDO! ‚úÖ
        this.questions = [
            { id: 1, question: "Face √† un nouveau projet, je pr√©f√®re‚Ä¶", options: [
                { text: "Planifier chaque √©tape en d√©tail", personality: "Strat√®ge" },
                { text: "Imaginer des solutions originales et innovantes", personality: "Cr√©atif" },
                { text: "Organiser les t√¢ches et les ressources pour que tout soit efficace", personality: "Organisateur" },
                { text: "Communiquer et mobiliser l'√©quipe autour de l'id√©e", personality: "Communicant" }
            ]},
            { id: 2, question: "Dans une r√©union d'√©quipe, je suis plut√¥t celui qui‚Ä¶", options: [
                { text: "Prend les d√©cisions et guide le groupe", personality: "Leader" },
                { text: "Travaille en harmonie et collabore avec les autres", personality: "Collaboratif" },
                { text: "Accompagne et conseille les membres de l'√©quipe", personality: "Mentor" },
                { text: "Pr√©f√®re travailler de mani√®re autonome et ind√©pendante", personality: "Ind√©pendant" }
            ]},
            { id: 3, question: "Quand je dois r√©soudre un probl√®me complexe, je‚Ä¶", options: [
                { text: "Chercher une solution pratique et r√©alisable", personality: "R√©aliste" },
                { text: "Imaginer des id√©es nouvelles et ambitieuses", personality: "Visionnaire" },
                { text: "Analyser m√©thodiquement chaque d√©tail", personality: "M√©thodique" },
                { text: "Viser la perfection et √©viter toute erreur", personality: "Perfectionniste" }
            ]},
            { id: 4, question: "Ce qui me motive le plus dans un projet est‚Ä¶", options: [
                { text: "Mettre en place une strat√©gie efficace", personality: "Strat√®ge" },
                { text: "Cr√©er et inventer quelque chose d'original", personality: "Cr√©atif" },
                { text: "Organiser et structurer pour que tout fonctionne", personality: "Organisateur" },
                { text: "Aider et guider les autres pour r√©ussir ensemble", personality: "Mentor" }
            ]},
            { id: 5, question: "Face √† l'impr√©vu, je r√©agis en‚Ä¶", options: [
                { text: "Explorer de nouvelles solutions et exp√©rimenter", personality: "Explorateur" },
                { text: "Chercher la solution la plus pragmatique", personality: "R√©aliste" },
                { text: "Imaginer des perspectives et solutions futures", personality: "Visionnaire" },
                { text: "Suivre mes valeurs et agir en fonction de ce qui me semble juste", personality: "Id√©aliste" }
            ]},
            { id: 6, question: "Dans un environnement de travail id√©al, je pr√©f√®re‚Ä¶", options: [
                { text: "Diriger et prendre des d√©cisions importantes", personality: "Leader" },
                { text: "Collaborer et travailler en √©quipe", personality: "Collaboratif" },
                { text: "Communiquer et √©changer avec les autres", personality: "Communicant" },
                { text: "Travailler de mani√®re autonome et ind√©pendante", personality: "Ind√©pendant" }
            ]},
            { id: 7, question: "Quand je communique avec mes coll√®gues, je privil√©gie‚Ä¶", options: [
                { text: "Entreprendre et lancer de nouveaux projets", personality: "Entrepreneur" },
                { text: "Chercher des solutions pratiques et concr√®tes", personality: "R√©aliste" },
                { text: "Imaginer et concevoir l'avenir", personality: "Visionnaire" },
                { text: "Suivre des m√©thodes et proc√©dures √©tablies", personality: "M√©thodique" }
            ]},
            { id: 8, question: "Face √† un changement organisationnel, ma r√©action est‚Ä¶", options: [
                { text: "Explorer et d√©couvrir de nouvelles approches", personality: "Explorateur" },
                { text: "Suivre mes convictions et valeurs personnelles", personality: "Id√©aliste" },
                { text: "Viser l'excellence et la perfection", personality: "Perfectionniste" },
                { text: "D√©velopper une strat√©gie claire et efficace", personality: "Strat√®ge" }
            ]},
            { id: 9, question: "Mon style de leadership se caract√©rise par‚Ä¶", options: [
                { text: "Cr√©er et d√©velopper des id√©es originales", personality: "Cr√©atif" },
                { text: "Organiser et structurer les activit√©s", personality: "Organisateur" },
                { text: "Communiquer et f√©d√©rer autour d'un projet", personality: "Communicant" },
                { text: "Diriger avec autorit√© et d√©termination", personality: "Leader" }
            ]},
            { id: 10, question: "Ce qui me satisfait le plus dans mon travail, c'est‚Ä¶", options: [
                { text: "Collaborer efficacement avec une √©quipe", personality: "Collaboratif" },
                { text: "Accompagner et d√©velopper les autres", personality: "Mentor" },
                { text: "Travailler en toute autonomie", personality: "Ind√©pendant" },
                { text: "Entreprendre de nouveaux d√©fis", personality: "Entrepreneur" }
            ]},
            { id: 11, question: "Pour moi, le succ√®s professionnel se d√©finit par‚Ä¶", options: [
                { text: "Obtenir des r√©sultats concrets et pratiques", personality: "R√©aliste" },
                { text: "R√©aliser une vision ambitieuse pour l'avenir", personality: "Visionnaire" },
                { text: "Respecter les proc√©dures et m√©thodes √©tablies", personality: "M√©thodique" },
                { text: "Explorer de nouveaux territoires et opportunit√©s", personality: "Explorateur" }
            ]},
            { id: 12, question: "Dans la planification d'un projet, je me concentre sur‚Ä¶", options: [
                { text: "Suivre mes id√©aux et valeurs profondes", personality: "Id√©aliste" },
                { text: "Atteindre un niveau d'excellence irr√©prochable", personality: "Perfectionniste" },
                { text: "Mettre en place une strat√©gie gagnante", personality: "Strat√®ge" },
                { text: "Cr√©er quelque chose d'original et innovant", personality: "Cr√©atif" }
            ]},
            { id: 13, question: "Ma m√©thode de travail pr√©f√©r√©e est‚Ä¶", options: [
                { text: "Organiser et planifier chaque √©tape du projet", personality: "Organisateur" },
                { text: "Communiquer et partager les id√©es avec tous", personality: "Communicant" },
                { text: "Prendre le leadership et diriger l'√©quipe", personality: "Leader" },
                { text: "Collaborer √©troitement avec les autres", personality: "Collaboratif" }
            ]},
            { id: 14, question: "Quand je forme une √©quipe, je recherche‚Ä¶", options: [
                { text: "Accompagner et guider les autres vers la r√©ussite", personality: "Mentor" },
                { text: "Maintenir mon ind√©pendance et autonomie", personality: "Ind√©pendant" },
                { text: "Entreprendre de nouveaux projets ambitieux", personality: "Entrepreneur" },
                { text: "Chercher des solutions r√©alistes et applicables", personality: "R√©aliste" }
            ]},
            { id: 15, question: "Face √† l'√©chec, ma premi√®re r√©action est de‚Ä¶", options: [
                { text: "Analyser ce qui s'est pass√© et imaginer l'avenir", personality: "Visionnaire" },
                { text: "R√©viser m√©thodiquement les proc√©dures", personality: "M√©thodique" },
                { text: "Explorer de nouvelles approches", personality: "Explorateur" },
                { text: "Rester fid√®le √† mes valeurs et recommencer", personality: "Id√©aliste" }
            ]},
            { id: 16, question: "Dans ma carri√®re, je privil√©gie‚Ä¶", options: [
                { text: "Viser la perfection dans tout ce que je fais", personality: "Perfectionniste" },
                { text: "D√©velopper des strat√©gies efficaces et gagnantes", personality: "Strat√®ge" },
                { text: "Cr√©er et innover constamment", personality: "Cr√©atif" },
                { text: "Organiser et structurer les projets", personality: "Organisateur" }
            ]},
            { id: 17, question: "Ma force principale en n√©gociation est‚Ä¶", options: [
                { text: "Communiquer clairement et efficacement", personality: "Communicant" },
                { text: "Diriger les conversations avec assurance", personality: "Leader" },
                { text: "Collaborer et √©changer avec tous", personality: "Collaboratif" },
                { text: "Accompagner et guider dans les √©changes", personality: "Mentor" }
            ]},
            { id: 18, question: "Dans l'apprentissage d'une nouvelle comp√©tence, je pr√©f√®re‚Ä¶", options: [
                { text: "Maintenir mon autonomie et ind√©pendance", personality: "Ind√©pendant" },
                { text: "Entreprendre de nouveaux d√©fis ambitieux", personality: "Entrepreneur" },
                { text: "Trouver des solutions pratiques et r√©alistes", personality: "R√©aliste" },
                { text: "Concevoir une vision d'avenir inspirante", personality: "Visionnaire" }
            ]},
            { id: 19, question: "Ma contribution unique dans une √©quipe est‚Ä¶", options: [
                { text: "Apporter de la rigueur et des m√©thodes structur√©es", personality: "M√©thodique" },
                { text: "Explorer de nouvelles approches et solutions", personality: "Explorateur" },
                { text: "D√©fendre les valeurs et l'√©thique du groupe", personality: "Id√©aliste" },
                { text: "Garantir la qualit√© et l'excellence du travail", personality: "Perfectionniste" }
            ]},
            { id: 20, question: "Pour √©valuer la performance, je me base sur‚Ä¶", options: [
                { text: "L'atteinte des objectifs strat√©giques", personality: "Strat√®ge" },
                { text: "Le niveau d'innovation et de cr√©ativit√©", personality: "Cr√©atif" },
                { text: "L'efficacit√© de l'organisation", personality: "Organisateur" },
                { text: "La qualit√© de la communication", personality: "Communicant" }
            ]},
            { id: 21, question: "Dans la gestion du temps, je privil√©gie‚Ä¶", options: [
                { text: "Prendre des d√©cisions rapides et efficaces", personality: "Leader" },
                { text: "Coordonner les activit√©s en √©quipe", personality: "Collaboratif" },
                { text: "Accompagner le rythme des autres", personality: "Mentor" },
                { text: "G√©rer mon temps de fa√ßon autonome", personality: "Ind√©pendant" }
            ]},
            { id: 22, question: "Mon approche du risque professionnel est‚Ä¶", options: [
                { text: "Prendre des risques calcul√©s pour innover", personality: "Entrepreneur" },
                { text: "√âvaluer prudemment les risques r√©els", personality: "R√©aliste" },
                { text: "Anticiper les risques futurs", personality: "Visionnaire" },
                { text: "Minimiser les risques par la m√©thode", personality: "M√©thodique" }
            ]},
            { id: 23, question: "Dans une pr√©sentation, je mets l'accent sur‚Ä¶", options: [
                { text: "La d√©couverte de nouvelles perspectives", personality: "Explorateur" },
                { text: "Les valeurs et le sens du projet", personality: "Id√©aliste" },
                { text: "La qualit√© et la pr√©cision du contenu", personality: "Perfectionniste" },
                { text: "La strat√©gie et les objectifs clairs", personality: "Strat√®ge" }
            ]},
            { id: 24, question: "Ma fa√ßon de g√©rer le stress est‚Ä¶", options: [
                { text: "Canaliser le stress dans la cr√©ativit√©", personality: "Cr√©atif" },
                { text: "Organiser et planifier pour r√©duire le stress", personality: "Organisateur" },
                { text: "Parler et √©changer pour d√©compresser", personality: "Communicant" },
                { text: "Prendre le contr√¥le de la situation", personality: "Leader" }
            ]},
            { id: 25, question: "Dans le d√©veloppement professionnel, j'accorde de l'importance √†‚Ä¶", options: [
                { text: "Collaborer efficacement avec une √©quipe", personality: "Collaboratif" },
                { text: "Accompagner et d√©velopper les autres", personality: "Mentor" },
                { text: "Travailler en toute autonomie", personality: "Ind√©pendant" },
                { text: "Entreprendre de nouveaux d√©fis", personality: "Entrepreneur" }
            ]},
            { id: 26, question: "Ma conception du feedback est‚Ä¶", options: [
                { text: "Un retour factuel et constructif", personality: "R√©aliste" },
                { text: "Une opportunit√© d'am√©lioration future", personality: "Visionnaire" },
                { text: "Un processus structur√© et r√©gulier", personality: "M√©thodique" },
                { text: "Une d√©couverte de nouvelles perspectives", personality: "Explorateur" }
            ]},
            { id: 27, question: "Pour mobiliser une √©quipe, je mise sur‚Ä¶", options: [
                { text: "Le partage de valeurs communes", personality: "Id√©aliste" },
                { text: "L'excellence et la qualit√© du travail", personality: "Perfectionniste" },
                { text: "Une vision strat√©gique claire", personality: "Strat√®ge" },
                { text: "L'innovation et la cr√©ativit√©", personality: "Cr√©atif" }
            ]},
            { id: 28, question: "Dans l'organisation de mon travail, je privil√©gie‚Ä¶", options: [
                { text: "Organiser et planifier chaque √©tape du projet", personality: "Organisateur" },
                { text: "Communiquer et partager les id√©es avec tous", personality: "Communicant" },
                { text: "Prendre le leadership et diriger l'√©quipe", personality: "Leader" },
                { text: "Collaborer √©troitement avec les autres", personality: "Collaboratif" }
            ]},
            { id: 29, question: "Ma d√©finition d'un environnement professionnel √©panouissant inclut‚Ä¶", options: [
                { text: "Accompagner et guider les autres vers la r√©ussite", personality: "Mentor" },
                { text: "Maintenir mon ind√©pendance et autonomie", personality: "Ind√©pendant" },
                { text: "Entreprendre de nouveaux projets ambitieux", personality: "Entrepreneur" },
                { text: "Chercher des solutions r√©alistes et applicables", personality: "R√©aliste" }
            ]},
            { id: 30, question: "√Ä long terme, je souhaite √™tre reconnu pour‚Ä¶", options: [
                { text: "Ma capacit√© √† imaginer et concevoir l'avenir", personality: "Visionnaire" },
                { text: "Ma rigueur dans l'application des m√©thodes", personality: "M√©thodique" },
                { text: "Mon go√ªt pour l'exploration et la d√©couverte", personality: "Explorateur" },
                { text: "Mon attachement √† mes valeurs et id√©aux", personality: "Id√©aliste" }
            ]}
        ];
        
        this.currentQuestion = 0;
        this.answers = {};
        this.personalities = {
            "Strat√®ge": {
                title: "Le Strat√®ge - Architecte de la r√©ussite",
                description: "Vous excellez dans la planification √† long terme et la prise de d√©cisions strat√©giques. Votre vision globale et votre capacit√© √† structurer les projets font de vous un leader naturel capable de guider les √©quipes vers des objectifs ambitieux.",
                strengths: ["Vision √† long terme", "Leadership d√©cisionnel", "Organisation m√©thodique", "Orientation r√©sultats"],
                values: ["Excellence", "Efficacit√©", "Vision", "Leadership"],
                vigilance: ["√âviter la micro-gestion", "D√©l√©guer efficacement", "Rester flexible dans l'ex√©cution"],
                careers: ["Direction g√©n√©rale", "Consultant strat√©gique", "Chef de projet senior", "Entrepreneur"]
            },
            "Cr√©atif": {
                title: "Le Cr√©atif - Innovateur visionnaire", 
                description: "Votre esprit innovant et votre capacit√© √† penser diff√©remment vous permettent d'apporter des solutions originales. Vous prosp√©rez dans les environnements qui valorisent la cr√©ativit√© et l'exp√©rimentation.",
                strengths: ["Innovation constante", "Pens√©e divergente", "Adaptation rapide", "Inspiration d'√©quipe"],
                values: ["Originalit√©", "Innovation", "Libert√© cr√©ative", "Expression"],
                vigilance: ["Structurer ses id√©es", "Respecter les contraintes", "Finaliser les projets"],
                careers: ["Designer", "Directeur artistique", "Entrepreneur cr√©atif", "Responsable innovation"]
            },
            "Organisateur": {
                title: "L'Organisateur - Structur√© et efficace",
                description: "Vous excellez dans la structuration et l'organisation des ressources. Votre capacit√© √† cr√©er des syst√®mes efficaces et √† optimiser les processus fait de vous un pilier de l'efficacit√© op√©rationnelle.",
                strengths: ["Organisation syst√©matique", "Efficacit√© op√©rationnelle", "Gestion des ressources", "Structuration des processus"],
                values: ["Ordre", "Efficacit√©", "Planification", "Productivit√©"],
                vigilance: ["√âviter la rigidit√© excessive", "S'adapter aux impr√©vus", "Laisser place √† la cr√©ativit√©"],
                careers: ["Gestionnaire de projet", "Responsable logistique", "Coordinateur", "Administrateur"]
            },
            "Communicant": {
                title: "Le Communicant - Mobilisateur d'√©quipes",
                description: "Votre talent pour la communication et votre capacit√© √† mobiliser les √©quipes font de vous un catalyseur de l'engagement. Vous excellez dans la transmission d'id√©es et la cr√©ation de dynamiques positives.",
                strengths: ["Communication persuasive", "Mobilisation d'√©quipe", "Expression claire", "Influence positive"],
                values: ["Communication", "Transparence", "Engagement", "Partage"],
                vigilance: ["√âviter la sur-communication", "√âcouter autant que parler", "Adapter le message √† l'audience"],
                careers: ["Responsable communication", "Commercial", "Formateur", "Relations publiques"]
            },
            "Leader": {
                title: "Le Leader - Inspirant et d√©cisionnaire",
                description: "Votre charisme naturel et votre capacit√© √† prendre des d√©cisions font de vous un leader inspirant. Vous excellez dans la direction d'√©quipes et l'atteinte d'objectifs ambitieux.",
                strengths: ["Leadership naturel", "Prise de d√©cision", "Inspiration d'√©quipe", "Vision directrice"],
                values: ["Leadership", "Courage", "Responsabilit√©", "Inspiration"],
                vigilance: ["√âviter l'autoritarisme", "D√©l√©guer efficacement", "Rester √† l'√©coute des √©quipes"],
                careers: ["Directeur g√©n√©ral", "Manager d'√©quipe", "Entrepreneur", "Consultant en leadership"]
            },
            "Collaboratif": {
                title: "Le Collaboratif - Harmonieux et coop√©ratif",
                description: "Votre esprit d'√©quipe et votre capacit√© √† cr√©er de l'harmonie font de vous un √©l√©ment pr√©cieux dans les projets collaboratifs. Vous excellez dans la coop√©ration et la diplomatie.",
                strengths: ["Esprit d'√©quipe", "Diplomatie", "Coop√©ration", "Maintien de l'harmonie"],
                values: ["Collaboration", "Harmonie", "Respect mutuel", "Consensus"],
                vigilance: ["√âviter les compromis excessifs", "Affirmer ses positions", "G√©rer les conflits constructivement"],
                careers: ["M√©diateur", "Coordinateur d'√©quipe", "Responsable partenariats", "Facilitateur"]
            },
            "Mentor": {
                title: "Le Mentor - Accompagnant et bienveillant",
                description: "Votre bienveillance et votre capacit√© √† d√©velopper les talents font de vous un mentor naturel. Vous excellez dans l'accompagnement personnalis√© et le d√©veloppement des comp√©tences.",
                strengths: ["Accompagnement personnalis√©", "Patience et bienveillance", "D√©veloppement des talents", "Guidance experte"],
                values: ["Bienveillance", "D√©veloppement", "Patience", "Transmission"],
                vigilance: ["√âviter la surprotection", "Laisser l'autonomie se d√©velopper", "Adapter son style d'accompagnement"],
                careers: ["Coach professionnel", "Formateur", "Responsable RH", "Consultant en d√©veloppement"]
            },
            "Ind√©pendant": {
                title: "L'Ind√©pendant - Autonome et libre",
                description: "Votre autonomie et votre capacit√© √† travailler de mani√®re ind√©pendante font de vous un professionnel polyvalent. Vous excellez dans la gestion de votre propre activit√© et la prise d'initiatives.",
                strengths: ["Autonomie compl√®te", "Initiative personnelle", "Libert√© d'action", "Auto-gestion"],
                values: ["Libert√©", "Autonomie", "Flexibilit√©", "Ind√©pendance"],
                vigilance: ["√âviter l'isolement", "Maintenir les connexions", "G√©rer la solitude professionnelle"],
                careers: ["Freelance", "Consultant ind√©pendant", "Entrepreneur solo", "Travailleur nomade"]
            },
            "Entrepreneur": {
                title: "L'Entrepreneur - R√©alisateur et dynamique",
                description: "Votre dynamisme et votre capacit√© √† concr√©tiser des id√©es font de vous un entrepreneur naturel. Vous excellez dans le lancement de projets et la cr√©ation de valeur.",
                strengths: ["Concr√©tisation d'id√©es", "Dynamisme entrepreneurial", "Prise d'initiative", "R√©alisation de projets"],
                values: ["Innovation", "Cr√©ation", "Dynamisme", "R√©alisation"],
                vigilance: ["√âviter la dispersion", "Finaliser les projets", "G√©rer les risques"],
                careers: ["Cr√©ateur d'entreprise", "Chef de produit", "Business developer", "Innovateur"]
            },
            "R√©aliste": {
                title: "Le R√©aliste - Pragmatique et concret",
                description: "Votre pragmatisme et votre approche concr√®te font de vous un professionnel efficace. Vous excellez dans l'application pratique et la recherche de solutions r√©alistes.",
                strengths: ["Pragmatisme", "Solutions concr√®tes", "Efficacit√© pratique", "Sens du r√©el"],
                values: ["Pragmatisme", "Efficacit√©", "Concret", "R√©alisme"],
                vigilance: ["√âviter le pessimisme", "Rester ouvert aux innovations", "Ne pas limiter les possibilit√©s"],
                careers: ["Ing√©nieur", "Technicien expert", "Gestionnaire op√©rationnel", "Consultant technique"]
            },
            "Visionnaire": {
                title: "Le Visionnaire - Futuriste et inspirant",
                description: "Votre vision futuriste et votre capacit√© √† anticiper les tendances font de vous un guide vers l'avenir. Vous excellez dans l'innovation strat√©gique et l'inspiration.",
                strengths: ["Vision futuriste", "Innovation strat√©gique", "Inspiration", "Anticipation des tendances"],
                values: ["Vision", "Innovation", "Futur", "Transformation"],
                vigilance: ["Rester ancr√© dans le pr√©sent", "Concr√©tiser ses visions", "Communiquer clairement ses id√©es"],
                careers: ["Directeur de l'innovation", "Futurologue", "Strat√®ge d'entreprise", "Consultant en transformation"]
            },
            "M√©thodique": {
                title: "Le M√©thodique - Rigoureux et pr√©cis",
                description: "Votre rigueur m√©thodique et votre pr√©cision font de vous un expert de la qualit√©. Vous excellez dans l'application de m√©thodes √©prouv√©es et la recherche de l'excellence.",
                strengths: ["M√©thode rigoureuse", "Pr√©cision d'ex√©cution", "Attention aux d√©tails", "Qualit√© constante"],
                values: ["Rigueur", "Pr√©cision", "M√©thode", "Qualit√©"],
                vigilance: ["√âviter la rigidit√© excessive", "S'adapter aux changements", "Laisser place √† la cr√©ativit√©"],
                careers: ["Auditeur", "Contr√¥leur qualit√©", "Analyste", "Responsable conformit√©"]
            },
            "Explorateur": {
                title: "L'Explorateur - Curieux et adaptable",
                description: "Votre curiosit√© naturelle et votre adaptabilit√© font de vous un explorateur de nouvelles voies. Vous excellez dans la d√©couverte et l'adaptation au changement.",
                strengths: ["Curiosit√© naturelle", "Adaptabilit√©", "Exploration", "Ouverture au changement"],
                values: ["Curiosit√©", "D√©couverte", "Adaptabilit√©", "Ouverture"],
                vigilance: ["√âviter la dispersion", "Approfondir ses d√©couvertes", "Structurer ses explorations"],
                careers: ["Chercheur", "Consultant en innovation", "Explorateur de march√©s", "D√©veloppeur de nouveaux produits"]
            },
            "Id√©aliste": {
                title: "L'Id√©aliste - Engag√© et int√®gre",
                description: "Votre engagement pour vos valeurs et votre int√©grit√© font de vous un professionnel align√©. Vous excellez dans la d√©fense de causes et la recherche de sens.",
                strengths: ["Engagement pour les valeurs", "Id√©alisme constructif", "Int√©grit√©", "Motivation par le sens"],
                values: ["Int√©grit√©", "Engagement", "Sens", "Valeurs"],
                vigilance: ["√âviter le perfectionnisme paralysant", "Accepter les compromis n√©cessaires", "Rester pragmatique"],
                careers: ["Responsable RSE", "Militant associatif", "Consultant en √©thique", "Travailleur social"]
            },
            "Perfectionniste": {
                title: "Le Perfectionniste - Exigeant et excellent",
                description: "Votre recherche de l'excellence et votre exigence qualit√© font de vous un professionnel d'exception. Vous excellez dans la perfection et l'am√©lioration continue.",
                strengths: ["Recherche de l'excellence", "Exigence qualit√©", "Perfectionnement continu", "Standards √©lev√©s"],
                values: ["Excellence", "Qualit√©", "Perfection", "Am√©lioration"],
                vigilance: ["√âviter la paralysie par la perfection", "Accepter le 'suffisamment bon'", "G√©rer le stress de l'exigence"],
                careers: ["Expert qualit√©", "Artisan d'art", "Consultant en excellence", "Responsable am√©lioration continue"]
            }
        };
        
        this.initializeQuiz();
    }

    initializeQuiz() {
        this.showIntroduction();
    }

    showIntroduction() {
        document.getElementById('quiz-content').innerHTML = `
            <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-2xl p-8 max-w-3xl mx-auto border border-white/20">
                <div class="text-center mb-8">
                    <div class="w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i class="fas fa-user-tie text-3xl text-white"></i>
                    </div>
                    <h1 class="text-4xl font-bold text-blue-600 mb-4">Quel est ton profil de personnalit√© professionnelle ?</h1>
                </div>

                <div class="bg-blue-50 rounded-xl p-6 mb-8">
                    <p class="text-gray-700 mb-4 text-lg leading-relaxed">
                        <span class="text-pink-500">üìç</span> Pr√™t(e) √† d√©couvrir ton style de travail et ta personnalit√© professionnelle ?
                    </p>
                    
                    <p class="text-gray-700 mb-6 leading-relaxed">
                        Ce test rapide de 30 questions t'aidera √† identifier ton profil dominant parmi 15 types de personnalit√©s.
                        Choisis simplement les r√©ponses qui te correspondent le mieux.
                    </p>
                    
                    <p class="text-gray-700 mb-6 leading-relaxed">
                        Aucune bonne ou mauvaise r√©ponse ‚Äì sois honn√™te avec toi-m√™me pour un r√©sultat pr√©cis.
                    </p>
                    
                    <div class="text-gray-800 font-semibold mb-4">
                        En quelques minutes, tu conna√Ætras :
                    </div>
                    
                    <div class="space-y-3 mb-6">
                        <div class="flex items-center text-gray-700">
                            <span class="text-yellow-500 mr-3">‚≠ê</span>
                            <span>Tes forces <span class="text-yellow-500">üí™</span></span>
                        </div>
                        <div class="flex items-center text-gray-700">
                            <span class="text-red-500 mr-3">‚ù§Ô∏è</span>
                            <span>Tes valeurs <span class="text-yellow-500">‚òÄÔ∏è</span></span>
                        </div>
                        <div class="flex items-center text-gray-700">
                            <span class="text-orange-500 mr-3">‚ö†Ô∏è</span>
                            <span>Tes points de vigilance <span class="text-orange-500">‚ö†Ô∏è</span></span>
                        </div>
                        <div class="flex items-center text-gray-700">
                            <span class="text-blue-500 mr-3">üöÄ</span>
                            <span>Des pistes professionnelles adapt√©es <span class="text-pink-500">üéØ</span></span>
                        </div>
                    </div>
                </div>

                <div class="text-center">
                    <button onclick="quiz.startQuiz()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-lg">
                        <span class="mr-2">‚ñ∂Ô∏è</span> Commencer le test ! <span class="ml-2">üåü</span>
                    </button>
                </div>
            </div>
        `;
    }

    startQuiz() {
        this.showQuestion();
    }

    showQuestion() {
        const question = this.questions[this.currentQuestion];
        // üéØ CORRECTION CRITIQUE: Maintenant utilise this.questions.length (30) au lieu de 10!
        const progressPercent = ((this.currentQuestion + 1) / this.questions.length) * 100;

        document.getElementById('quiz-content').innerHTML = `
            <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-2xl p-8 max-w-2xl mx-auto border border-white/20">
                <div class="mb-6">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-sm text-gray-600 font-semibold">
                            Question ${this.currentQuestion + 1}/${this.questions.length}
                        </span>
                        <span class="text-sm text-blue-600 font-bold">${Math.round(progressPercent)}%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                        <div class="bg-gradient-to-r from-blue-500 to-indigo-600 h-3 rounded-full transition-all duration-500 shadow-sm" 
                             style="width: ${progressPercent}%"></div>
                    </div>
                    <div class="text-xs text-center mt-2 text-gray-500">
                        Progression: ${this.currentQuestion + 1} sur ${this.questions.length} questions
                    </div>
                </div>

                <h2 class="text-xl font-bold text-gray-800 mb-6 leading-relaxed">${question.question}</h2>

                <div class="space-y-3">
                    ${question.options.map((option, index) => `
                        <button class="quiz-option w-full text-left p-4 rounded-xl border-2 border-gray-200 hover:border-blue-400 hover:bg-blue-50 transition-all duration-300 transform hover:scale-[1.02]" onclick="quiz.selectAnswer(${index})">
                            <span class="font-medium text-gray-700">${option.text}</span>
                        </button>
                    `).join('')}
                </div>

                <div class="mt-8 flex justify-between">
                    <button class="px-6 py-3 bg-gray-300 text-gray-700 rounded-xl hover:bg-gray-400 transition-colors font-medium ${this.currentQuestion === 0 ? 'opacity-50 cursor-not-allowed' : ''}" onclick="quiz.previousQuestion()" ${this.currentQuestion === 0 ? 'disabled' : ''}>
                        <i class="fas fa-arrow-left mr-2"></i>Pr√©c√©dent
                    </button>
                    
                    <button id="next-btn" class="px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium opacity-50 cursor-not-allowed" disabled>
                        ${this.currentQuestion === this.questions.length - 1 ? 'Voir les r√©sultats' : 'Suivant'}
                        <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        `;
    }

    selectAnswer(optionIndex) {
        const question = this.questions[this.currentQuestion];
        const selectedOption = question.options[optionIndex];
        this.answers[question.id] = selectedOption.personality;

        const options = document.querySelectorAll('.quiz-option');
        options.forEach((option, index) => {
            option.classList.remove('border-blue-400', 'bg-blue-50', 'ring-2', 'ring-blue-200');
            if (index === optionIndex) {
                option.classList.add('border-blue-400', 'bg-blue-50', 'ring-2', 'ring-blue-200');
            }
        });

        const nextBtn = document.getElementById('next-btn');
        nextBtn.disabled = false;
        nextBtn.classList.remove('opacity-50', 'cursor-not-allowed');
        nextBtn.onclick = () => this.nextQuestion();
    }

    nextQuestion() {
        if (this.currentQuestion < this.questions.length - 1) {
            this.currentQuestion++;
            this.showQuestion();
        } else {
            this.showResults();
        }
    }

    previousQuestion() {
        if (this.currentQuestion > 0) {
            this.currentQuestion--;
            this.showQuestion();
        }
    }

    calculatePersonality() {
        const scores = {
            "Strat√®ge": 0, "Cr√©atif": 0, "Organisateur": 0, "Communicant": 0,
            "Leader": 0, "Collaboratif": 0, "Mentor": 0, "Ind√©pendant": 0,
            "Entrepreneur": 0, "R√©aliste": 0, "Visionnaire": 0, "M√©thodique": 0,
            "Explorateur": 0, "Id√©aliste": 0, "Perfectionniste": 0
        };
        Object.values(this.answers).forEach(personality => {
            if (scores[personality] !== undefined) scores[personality]++;
        });
        const maxScore = Math.max(...Object.values(scores));
        return Object.keys(scores).filter(key => scores[key] === maxScore)[0];
    }

    showResults() {
        const personalityType = this.calculatePersonality();
        const personality = this.personalities[personalityType];
        const scores = {
            "Strat√®ge": 0, "Cr√©atif": 0, "Organisateur": 0, "Communicant": 0,
            "Leader": 0, "Collaboratif": 0, "Mentor": 0, "Ind√©pendant": 0,
            "Entrepreneur": 0, "R√©aliste": 0, "Visionnaire": 0, "M√©thodique": 0,
            "Explorateur": 0, "Id√©aliste": 0, "Perfectionniste": 0
        };
        Object.values(this.answers).forEach(type => {
            if (scores[type] !== undefined) scores[type]++;
        });

        document.getElementById('quiz-content').innerHTML = `
            <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-2xl p-8 max-w-4xl mx-auto border border-white/20">
                <!-- Header Section -->
                <div class="text-center mb-8">
                    <h1 class="text-4xl font-bold text-blue-600 mb-2">Bravo ! üéâ</h1>
                    <p class="text-gray-600 text-lg mb-6">Tu viens de d√©couvrir ton profil dominant parmi nos 15 personnalit√©s professionnelles.</p>
                </div>

                <!-- Personality Type Section -->
                <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 mb-8 border border-blue-100 text-center">
                    <h2 class="text-2xl font-bold text-blue-800 mb-2">${personality.title}</h2>
                    <h3 class="text-xl font-semibold text-blue-600 mb-4">L'${personalityType} Rigoureux</h3>
                    <p class="text-gray-700 leading-relaxed">${personality.description}</p>
                </div>

                <!-- Four Cards Grid -->
                <div class="grid md:grid-cols-2 gap-6 mb-8">
                    <!-- Tes forces -->
                    <div class="bg-white border-2 border-blue-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-blue-600 mb-4 flex items-center">
                            ‚≠ê Tes forces üí™
                        </h3>
                        <ul class="space-y-3">
                            ${personality.strengths.map(strength => `
                                <li class="flex items-center text-gray-700">
                                    <span class="w-2 h-2 bg-blue-500 rounded-full mr-3"></span>
                                    ${strength}
                                </li>
                            `).join('')}
                        </ul>
                    </div>

                    <!-- Tes valeurs -->
                    <div class="bg-white border-2 border-red-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-red-600 mb-4 flex items-center">
                            ‚ù§Ô∏è Tes valeurs ‚òÄÔ∏è
                        </h3>
                        <ul class="space-y-3">
                            ${personality.values.map(value => `
                                <li class="flex items-center text-gray-700">
                                    <span class="w-2 h-2 bg-blue-500 rounded-full mr-3"></span>
                                    ${value}
                                </li>
                            `).join('')}
                        </ul>
                    </div>

                    <!-- Tes points de vigilance -->
                    <div class="bg-white border-2 border-orange-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-orange-600 mb-4 flex items-center">
                            ‚ö†Ô∏è Tes points de vigilance ‚ö†Ô∏è
                        </h3>
                        <ul class="space-y-3">
                            ${personality.vigilance.map(point => `
                                <li class="flex items-center text-gray-700">
                                    <span class="w-2 h-2 bg-blue-500 rounded-full mr-3"></span>
                                    ${point}
                                </li>
                            `).join('')}
                        </ul>
                    </div>

                    <!-- Des pistes professionnelles -->
                    <div class="bg-white border-2 border-purple-200 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-purple-600 mb-4 flex items-center">
                            üöÄ Des pistes professionnelles üéØ
                        </h3>
                        <ul class="space-y-3">
                            ${personality.careers.map(career => `
                                <li class="flex items-center text-gray-700">
                                    <span class="w-2 h-2 bg-blue-500 rounded-full mr-3"></span>
                                    ${career}
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                </div>

                <!-- Bottom Message -->
                <div class="text-center mb-8">
                    <p class="text-gray-600 mb-6">Ce profil te r√©v√®le tes forces, tes valeurs, tes points de vigilance et des pistes professionnelles adapt√©es.</p>
                    
                    <div class="bg-blue-50 rounded-xl p-6 mb-6">
                        <ul class="text-left space-y-2 text-gray-700">
                            <li class="flex items-start">
                                <span class="text-blue-500 mr-2">üíé</span>
                                Prends un moment pour explorer ta fiche de profil.
                            </li>
                            <li class="flex items-start">
                                <span class="text-blue-500 mr-2">üíé</span>
                                Utilise ces informations pour mieux te conna√Ætre, booster tes talents et orienter tes choix professionnels.
                            </li>
                            <li class="flex items-start">
                                <span class="text-blue-500 mr-2">üíé</span>
                                N'h√©site pas √† revenir sur certaines questions si tu veux affiner ton profil !
                            </li>
                        </ul>
                    </div>
                    
                    <h3 class="text-xl font-bold text-blue-600 mb-6">Ton voyage vers la d√©couverte de toi-m√™me commence ici... üåà</h3>
                </div>

                <!-- URL Display for Sharing -->
                <div id="url-display" class="bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl p-4 mb-6 text-center" style="display: none;">
                    <p class="text-sm text-gray-600 mb-2">üîó Lien du test:</p>
                    <p class="font-mono text-blue-600 font-medium break-all" id="current-url"></p>
                </div>

                <!-- Action Buttons -->
                <div class="text-center">
                    <button onclick="quiz.restart()" class="px-8 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors mr-4 font-medium shadow-lg">
                        üîÑ Refaire le test
                    </button>
                    
                    <button onclick="quiz.shareResults()" class="px-8 py-3 bg-gradient-to-r from-cyan-500 to-purple-500 text-white rounded-xl hover:from-cyan-600 hover:to-purple-600 transition-colors font-medium shadow-lg">
                        üì§ Partager mes r√©sultats
                    </button>
                </div>
            </div>
        `;
    }

    restart() {
        this.currentQuestion = 0;
        this.answers = {};
        this.showQuestion();
    }

    async shareResults() {
        try {
            const personalityType = this.calculatePersonality();
            const personality = this.personalities[personalityType];
            
            // Afficher l'URL pour le screenshot (URL propre sans param√®tres)
             const urlDisplay = document.getElementById('url-display');
             const currentUrlElement = document.getElementById('current-url');
             const cleanUrl = window.location.origin + window.location.pathname;
             currentUrlElement.textContent = cleanUrl;
             urlDisplay.style.display = 'block';

            // Attendre un moment pour que l'affichage se mette √† jour
            await new Promise(resolve => setTimeout(resolve, 500));

            // Capturer le screenshot
            const resultsContainer = document.getElementById('quiz-content');
            
            const canvas = await html2canvas(resultsContainer, {
                scale: 2,
                useCORS: true,
                allowTaint: true,
                backgroundColor: '#ffffff',
                width: resultsContainer.scrollWidth,
                height: resultsContainer.scrollHeight,
                scrollX: 0,
                scrollY: 0,
                windowWidth: 1200,
                windowHeight: 800
            });

            // Convertir en blob
            canvas.toBlob(async (blob) => {
                const cleanUrl = window.location.origin + window.location.pathname;
                 const shareText = `üéØ J'ai d√©couvert mon profil: ${personality.title}!\n\n${personality.description}\n\nüîó Faites le test vous aussi: ${cleanUrl}`;
                
                // Masquer l'URL apr√®s le screenshot
                urlDisplay.style.display = 'none';
                
                if (navigator.share && navigator.canShare && navigator.canShare({ files: [new File([blob], 'quiz-resultat.png', { type: 'image/png' })] })) {
                    // Partage natif avec image
                    const file = new File([blob], `quiz-resultat-${personality.title.toLowerCase().replace(/\s+/g, '-')}.png`, { type: 'image/png' });
                    await navigator.share({
                        title: 'Quiz de Personnalit√© - Mon R√©sultat',
                        text: shareText,
                        files: [file]
                    });
                } else {
                    // Fallback: t√©l√©charger l'image et copier le texte
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `quiz-resultat-${personality.title.toLowerCase().replace(/\s+/g, '-')}.png`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    
                    // Copier le texte avec l'URL
                    await navigator.clipboard.writeText(shareText);
                    
                    this.showNotification('üì∏ Image t√©l√©charg√©e et texte copi√©! Partagez maintenant sur vos r√©seaux sociaux.', 'success');
                }
            }, 'image/png', 1.0);
            
        } catch (error) {
            console.error('Erreur lors du partage:', error);
            
            // Fallback simple en cas d'erreur
            const personalityType = this.calculatePersonality();
            const personality = this.personalities[personalityType];
            const cleanUrl = window.location.origin + window.location.pathname;
             const shareText = `üéØ J'ai d√©couvert mon profil: ${personality.title}!\n\n${personality.description}\n\nüîó Faites le test vous aussi: ${cleanUrl}`;
            
            if (navigator.clipboard) {
                await navigator.clipboard.writeText(shareText);
                this.showNotification('üìã Texte copi√©! Partagez vos r√©sultats.', 'info');
            }
            
            // Masquer l'URL en cas d'erreur
            document.getElementById('url-display').style.display = 'none';
        }
    }

    async captureScreenshot() {
        try {
            // Afficher l'URL pour le screenshot
            const urlDisplay = document.getElementById('url-display');
            const currentUrlElement = document.getElementById('current-url');
            currentUrlElement.textContent = window.location.href;
            urlDisplay.style.display = 'block';

            // Attendre un moment pour que l'affichage se mette √† jour
            await new Promise(resolve => setTimeout(resolve, 500));

            // Capturer le conteneur des r√©sultats
            const resultsContainer = document.getElementById('quiz-content');
            
            const canvas = await html2canvas(resultsContainer, {
                scale: 2, // Haute r√©solution
                useCORS: true,
                allowTaint: true,
                backgroundColor: '#ffffff',
                width: resultsContainer.scrollWidth,
                height: resultsContainer.scrollHeight,
                scrollX: 0,
                scrollY: 0,
                windowWidth: 1200,
                windowHeight: 800
            });

            // Cr√©er un lien de t√©l√©chargement
            const personalityType = this.calculatePersonality();
            const personality = this.personalities[personalityType];
            const filename = `quiz-resultat-${personality.title.toLowerCase().replace(/\s+/g, '-')}.png`;
            
            canvas.toBlob((blob) => {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                // Masquer l'URL apr√®s le screenshot
                urlDisplay.style.display = 'none';
                
                // Notification de succ√®s
                this.showNotification('üì∏ Screenshot HD t√©l√©charg√© avec succ√®s!', 'success');
            }, 'image/png', 1.0);
            
        } catch (error) {
            console.error('Erreur lors de la capture:', error);
            this.showNotification('‚ùå Erreur lors de la capture du screenshot', 'error');
            
            // Masquer l'URL en cas d'erreur
            document.getElementById('url-display').style.display = 'none';
        }
    }

    showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.className = `fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg text-white font-medium transition-all duration-300 transform translate-x-full`;
        
        if (type === 'success') {
            notification.className += ' bg-green-500';
        } else if (type === 'error') {
            notification.className += ' bg-red-500';
        } else {
            notification.className += ' bg-blue-500';
        }
        
        notification.textContent = message;
        document.body.appendChild(notification);
        
        // Animation d'entr√©e
        setTimeout(() => {
            notification.classList.remove('translate-x-full');
        }, 100);
        
        // Animation de sortie
        setTimeout(() => {
            notification.classList.add('translate-x-full');
            setTimeout(() => {
                document.body.removeChild(notification);
            }, 300);
        }, 3000);
    }
}

// Initialiser le quiz
let quiz;
document.addEventListener('DOMContentLoaded', () => {
    quiz = new PersonalityQuiz();
    console.log('‚úÖ Quiz initialis√© avec', quiz.questions.length, 'questions');
});
    </script>
</body>
</html>
